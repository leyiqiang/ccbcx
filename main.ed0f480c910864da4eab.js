!function(e){function t(t){for(var n,u,i=t[0],l=t[1],s=t[2],f=0,p=[];f<i.length;f++)u=i[f],o[u]&&p.push(o[u][0]),o[u]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(c&&c(t);p.length;)p.shift()();return a.push.apply(a,s||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,i=1;i<r.length;i++){var l=r[i];0!==o[l]&&(n=!1)}n&&(a.splice(t--,1),e=u(u.s=r[0]))}return e}var n={},o={1:0},a=[];function u(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,u),r.l=!0,r.exports}u.m=e,u.c=n,u.d=function(e,t,r){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},u.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(u.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)u.d(r,n,function(t){return e[t]}.bind(null,n));return r},u.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="";var i=window.webpackJsonp=window.webpackJsonp||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var c=l;a.push([603,0]),r()}({109:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.axios=void 0;var n,o=(n=r(380))&&n.__esModule?n:{default:n},a=r(361),u=r(85);t.axios=o.default.create({baseURL:a.API_END_POINT,headers:{"x-access-token":(0,u.getXAccessTokenFromCookie)()}})},151:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,a,u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(21),l=r(360),s=r(85),c=(a=r(215))&&a.__esModule?a:{default:a};function f(e,t,r,n,o){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=new(n=function(){function e(){var t,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t="userInfo",(r=o)&&Object.defineProperty(this,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(this):void 0}),this.getUserInfo()}return u(e,[{key:"logout",value:function(){(0,s.setXAccessToken)(null),p.userInfo=null}},{key:"getUserInfo",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c.default.isUserInfoLoading=!0,e.next=4,(0,l.getUserInfo)();case 4:t=e.sent,p.userInfo=t.data,c.default.isUserInfoLoading=!1,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),(0,s.setXAccessToken)(null);case 12:c.default.isUserInfoLoading=!1;case 13:case"end":return e.stop()}},e,this,[[0,9]])}),function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,a){try{var u=t[o](a),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}("next")})});return function(){return t.apply(this,arguments)}}()}]),e}(),o=f(n.prototype,"userInfo",[i.observable],{enumerable:!0,initializer:function(){return null}}),f(n.prototype,"logout",[i.action],Object.getOwnPropertyDescriptor(n.prototype,"logout"),n.prototype),f(n.prototype,"getUserInfo",[i.action],Object.getOwnPropertyDescriptor(n.prototype,"getUserInfo"),n.prototype),n);t.default=p},214:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.joinGroup=t.getGroupInfo=t.createGroup=void 0;var n,o,a,u=r(109);function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,a){try{var u=t[o](a),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}("next")})}}r(85),t.createGroup=(n=i(regeneratorRuntime.mark(function e(t){var r=t.groupName,n=t.groupContact;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.axios.post("/api/group/create",{groupName:r,groupContact:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)}),t.getGroupInfo=(o=i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.axios.get("/api/group/info");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)}),t.joinGroup=(a=i(regeneratorRuntime.mark(function e(t){var r=t.invitationCode;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.axios.post("/api/group/join",{invitationCode:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},215:function(e,t,r){"use strict";var n,o;Object.defineProperty(t,"__esModule",{value:!0});var a,u,i,l,s,c=r(21),f=new(a=(n=function e(){var t,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t="isUserInfoLoading",(r=o)&&Object.defineProperty(this,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(this):void 0})}).prototype,u="isUserInfoLoading",i=[c.observable],l={enumerable:!0,initializer:function(){return!0}},s={},Object.keys(l).forEach(function(e){s[e]=l[e]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),void 0===(s=i.slice().reverse().reduce(function(e,t){return t(a,u,e)||e},s)).initializer&&(Object.defineProperty(a,u,s),s=null),o=s,n);t.default=f},216:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.signUp=t.signIn=void 0;var n,o,a=r(109);function u(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,a){try{var u=t[o](a),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}("next")})}}t.signIn=(n=u(regeneratorRuntime.mark(function e(t){var r=t.userName,n=t.password;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.axios.post("/api/auth/signIn",{userName:r,password:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)}),t.signUp=(o=u(regeneratorRuntime.mark(function e(t){var r=t.userName,n=t.nickName,o=t.password;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.axios.post("/api/auth/signUp",{userName:r,nickName:n,password:o});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},268:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,a,u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(1),l=d(i),s=r(36),c=d(r(0)),f=r(53),p=d(r(42));function d(e){return e&&e.__esModule?e:{default:e}}var b=(0,s.observer)((a=o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.onCreateTeam=r.onCreateTeam.bind(r),r.onJoinTeam=r.onJoinTeam.bind(r),r.onGroupContactChange=r.onGroupContactChange.bind(r),r.onGroupNameChange=r.onGroupNameChange.bind(r),r.onInvitationCodeChange=r.onInvitationCodeChange.bind(r),r.renderErrorMessage=r.renderErrorMessage.bind(r),r.state={groupName:"",groupContact:"",invitationCode:""},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),u(t,[{key:"onGroupContactChange",value:function(e){e.preventDefault();var t=e.target.value;this.setState({groupContact:t})}},{key:"onGroupNameChange",value:function(e){e.preventDefault();var t=e.target.value;this.setState({groupName:t})}},{key:"onInvitationCodeChange",value:function(e){e.preventDefault();var t=e.target.value;this.setState({invitationCode:t})}},{key:"onCreateTeam",value:function(e){e.preventDefault(),this.props.createGroup({groupName:this.state.groupName,groupContact:this.state.groupContact})}},{key:"onJoinTeam",value:function(e){e.preventDefault(),this.props.joinGroup({invitationCode:this.state.invitationCode})}},{key:"renderErrorMessage",value:function(){return p.default.isNil(this.props.errorMessage)?void 0:l.default.createElement("div",{className:"alert alert-danger",role:"alert"},this.props.errorMessage)}},{key:"render",value:function(){return l.default.createElement("div",null,l.default.createElement("p",null,"您还没有队伍"),this.renderErrorMessage(),l.default.createElement(f.Form,{onSubmit:this.onJoinTeam},l.default.createElement(f.FormGroup,null,l.default.createElement(f.Input,{type:"text",name:"inviteCode",placeholder:"队伍邀请码",value:this.state.invitationCode,onChange:this.onInvitationCodeChange}),l.default.createElement(f.Button,null,"加入队伍"))),l.default.createElement(f.Form,{onSubmit:this.onCreateTeam},l.default.createElement(f.FormGroup,null,l.default.createElement(f.Label,null,"队名:"),l.default.createElement(f.Input,{type:"text",name:"groupName",placeholder:"队名",value:this.state.groupName,onChange:this.onGroupNameChange}),l.default.createElement(f.Label,null,"队伍联系方式(qq/微信):"),l.default.createElement(f.Input,{type:"text",name:"groupContact",placeholder:"联系方式",value:this.state.groupContact,onChange:this.onGroupContactChange}),l.default.createElement(f.Button,null,"创建队伍"))))}}]),t}(),o.propTypes={groupName:c.default.string,groupContact:c.default.string,createGroup:c.default.func.isRequired,joinGroup:c.default.func.isRequired,errorMessage:c.default.string},n=a))||n;t.default=b},269:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,a,u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(1),l=p(i),s=r(36),c=p(r(0)),f=p(r(42));function p(e){return e&&e.__esModule?e:{default:e}}var d=(0,s.observer)((a=o=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),u(t,[{key:"render",value:function(){var e=this.props,t=e.groupName,r=e.groupContact,n=e.memberList,o=e.invitationCode;return l.default.createElement("div",null,l.default.createElement("p",null,"队名: ",t),l.default.createElement("p",null,"Contact Info: ",r),l.default.createElement("p",null,"Members: ",f.default.join(n,", ")),o&&l.default.createElement("p",null,"Invitation Code: ",o))}}]),t}(),o.propTypes={groupName:c.default.string,groupContact:c.default.string,memberList:s.PropTypes.observableArray,invitationCode:c.default.string},n=a))||n;t.default=d},270:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,a,u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(1),l=f(i),s=r(36),c=f(r(0));function f(e){return e&&e.__esModule?e:{default:e}}var p=(0,s.observer)((a=o=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),u(t,[{key:"render",value:function(){var e=this.props,t=e.userName,r=e.nickName;return l.default.createElement("div",null,l.default.createElement("p",null,"用户名: ",t),l.default.createElement("p",null,"昵称: ",r))}}]),t}(),o.propTypes={userName:c.default.string.isRequired,nickName:c.default.string.isRequired},n=a))||n;t.default=p},271:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,a,u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(1),l=v(i),s=r(36),c=v(r(0)),f=r(53),p=v(r(42)),d=v(r(270)),b=v(r(269)),m=v(r(268));function v(e){return e&&e.__esModule?e:{default:e}}r(214);var y=(0,s.inject)(function(e){var t=e.sessionStore,r=e.groupStore,n=(e.loadingStore,t.userInfo),o=r.createGroup,a=r.joinGroup,u=r.getGroupInfo;return{userInfo:n,groupName:r.groupName,getGroupInfo:u,groupContact:r.groupContact,memberList:r.memberList,invitationCode:r.invitationCode,createGroup:o,joinGroup:a,groupErrorMessage:r.errorMessage}})(n=(0,s.observer)((a=o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.renderGroupProfile=r.renderGroupProfile.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),u(t,[{key:"componentWillMount",value:function(){this.props.getGroupInfo()}},{key:"renderGroupProfile",value:function(){var e=this.props,t=e.createGroup,r=e.joinGroup,n=e.groupName,o=e.groupContact,a=e.memberList,u=e.invitationCode,i=e.groupErrorMessage;return p.default.isNil(n)?l.default.createElement(m.default,{createGroup:t,joinGroup:r,errorMessage:i}):l.default.createElement(b.default,{groupName:n,groupContact:o,memberList:a,invitationCode:u})}},{key:"render",value:function(){var e=this.props.userInfo,t=e.userName,r=e.nickName;return l.default.createElement("div",null,l.default.createElement(f.Jumbotron,null,l.default.createElement("h3",null,"组队信息"),this.renderGroupProfile()),l.default.createElement(f.Jumbotron,null,l.default.createElement("h3",null,"个人信息"),l.default.createElement(d.default,{userName:t,nickName:r})))}}]),t}(),o.propTypes={userInfo:c.default.object.isRequired,createGroup:c.default.func.isRequired,joinGroup:c.default.func.isRequired,getGroupInfo:c.default.func.isRequired,groupName:c.default.string,groupContact:c.default.string,memberList:s.PropTypes.observableArray,invitationCode:c.default.string,groupErrorMessage:c.default.string},n=a))||n)||n;t.default=y},272:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(1),a=s(o),u=r(133),i=r(99),l=s(r(271));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"render",value:function(){return a.default.createElement("div",null,a.default.createElement(u.Switch,null,a.default.createElement(u.Route,{exact:!0,path:i.USER_INFO,component:l.default}),a.default.createElement(u.Route,{path:"*",component:function(){return a.default.createElement(u.Redirect,{to:i.USER_INFO})}})))}}]),t}();t.default=c},349:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(1),u=p(a),i=r(36),l=r(53),s=r(133),c=r(267),f=r(99);function p(e){return e&&e.__esModule?e:{default:e}}p(r(42));var d=(0,i.inject)(function(e){return{userInfo:e.sessionStore.userInfo}})(n=(0,i.observer)(n=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.toggle=r.toggle.bind(r),r.onSignOut=r.onSignOut.bind(r),r.state={isOpen:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"onSignOut",value:function(){this.props.logout()}},{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return u.default.createElement("div",null,u.default.createElement(l.Navbar,{color:"light",light:!0,expand:"md"},u.default.createElement(l.NavbarBrand,null,"CCBCX"),u.default.createElement(l.NavbarToggler,{onClick:this.toggle}),u.default.createElement(l.Collapse,{isOpen:this.state.isOpen,navbar:!0},u.default.createElement(l.Nav,{navbar:!0},u.default.createElement(s.Link,{to:f.ROOT},u.default.createElement(c.Button,null,"题目"))),u.default.createElement(l.Nav,{navbar:!0},u.default.createElement(s.Link,{to:f.ROOT},u.default.createElement(c.Button,null,"官方消息"))),u.default.createElement(l.Nav,{navbar:!0},u.default.createElement(s.Link,{to:f.USER},u.default.createElement(c.Button,null,"我的队伍")))),u.default.createElement(c.Button,{className:"pull-right",bsStyle:"danger",onClick:this.onSignOut},"退出")))}}]),t}())||n)||n;t.default=d},350:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(1),u=(n=a)&&n.__esModule?n:{default:n},i=r(53),l=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"render",value:function(){return u.default.createElement("div",null,u.default.createElement(i.Jumbotron,null,u.default.createElement("h2",{className:"display-4"},"CCBCX"),u.default.createElement("p",{className:"lead"},"欢迎.")))}}]),t}();t.default=l},351:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,a,u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(1),l=d(i),s=r(36),c=d(r(42)),f=r(53),p=d(r(0));function d(e){return e&&e.__esModule?e:{default:e}}var b=(0,s.observer)((a=o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.onUserNameChange=r.onUserNameChange.bind(r),r.onNickNameChange=r.onNickNameChange.bind(r),r.onPasswordChange=r.onPasswordChange.bind(r),r.onConfirmPasswordChange=r.onConfirmPasswordChange.bind(r),r.renderErrorMessage=r.renderErrorMessage.bind(r),r.onRegister=r.onRegister.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),u(t,[{key:"onUserNameChange",value:function(e){e.preventDefault(),this.props.setUserName(e.target.value)}},{key:"onNickNameChange",value:function(e){e.preventDefault(),this.props.setNickName(e.target.value)}},{key:"onPasswordChange",value:function(e){e.preventDefault(),this.props.setPassword(e.target.value)}},{key:"onConfirmPasswordChange",value:function(e){e.preventDefault(),this.props.setConfirmPassword(e.target.value)}},{key:"renderErrorMessage",value:function(){return c.default.isNil(this.props.errorMessage)?void 0:l.default.createElement("div",{className:"alert alert-danger",role:"alert"},this.props.errorMessage)}},{key:"onRegister",value:function(e){e.preventDefault(),this.props.register()}},{key:"render",value:function(){var e=this.props,t=e.userName,r=e.nickName,n=e.password,o=e.confirmPassword;return l.default.createElement("div",null,l.default.createElement("h3",null,"注册"),l.default.createElement(f.Form,null,this.renderErrorMessage(),l.default.createElement(f.FormGroup,null,l.default.createElement(f.Label,null,"用户名"),l.default.createElement(f.Input,{type:"text",name:"userName",value:t,onChange:this.onUserNameChange})),l.default.createElement(f.FormGroup,null,l.default.createElement(f.Label,null,"昵称"),l.default.createElement(f.Input,{type:"text",name:"nickName",value:r,onChange:this.onNickNameChange})),l.default.createElement(f.FormGroup,null,l.default.createElement(f.Label,{for:"examplePassword"},"密码"),l.default.createElement(f.Input,{type:"password",name:"password",value:n,onChange:this.onPasswordChange})),l.default.createElement(f.FormGroup,null,l.default.createElement(f.Label,{for:"examplePassword"},"确认密码"),l.default.createElement(f.Input,{type:"password",name:"confirmPassword",value:o,onChange:this.onConfirmPasswordChange})),l.default.createElement(f.Button,{onClick:this.onRegister},"注册")))}}]),t}(),o.propTypes={userName:p.default.string,nickName:p.default.string,password:p.default.string,confirmPassword:p.default.string,setUserName:p.default.func.isRequired,setNickName:p.default.func.isRequired,setPassword:p.default.func.isRequired,setConfirmPassword:p.default.func.isRequired,register:p.default.func.isRequired,errorMessage:p.default.string},n=a))||n;t.default=b},352:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,a,u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(1),l=b(i),s=r(36),c=r(53),f=r(99),p=b(r(351)),d=b(r(0));function b(e){return e&&e.__esModule?e:{default:e}}var m=(0,s.inject)(function(e){var t=e.registerStore;return{userName:t.userName,nickName:t.nickName,password:t.password,confirmPassword:t.confirmPassword,setUserName:t.setUserName,setNickName:t.setNickName,setPassword:t.setPassword,setConfirmPassword:t.setConfirmPassword,errorMessage:t.errorMessage,register:t.register}})(n=(0,s.observer)((a=o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.onRedirect=r.onRedirect.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),u(t,[{key:"onRedirect",value:function(){this.props.history.push(f.SIGN_IN)}},{key:"render",value:function(){return l.default.createElement("div",null,l.default.createElement(p.default,this.props),l.default.createElement(c.Button,{onClick:this.onRedirect,color:"link"},"登陆"))}}]),t}(),o.propTypes={history:d.default.object.isRequired},n=a))||n)||n;t.default=m},353:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,a,u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(1),l=d(i),s=r(36),c=d(r(42)),f=r(53),p=d(r(0));function d(e){return e&&e.__esModule?e:{default:e}}var b=(0,s.observer)((a=o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.onUserNameChange=r.onUserNameChange.bind(r),r.onPasswordChange=r.onPasswordChange.bind(r),r.renderErrorMessage=r.renderErrorMessage.bind(r),r.onLogin=r.onLogin.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),u(t,[{key:"onUserNameChange",value:function(e){e.preventDefault(),this.props.setUserName(e.target.value)}},{key:"onPasswordChange",value:function(e){e.preventDefault(),this.props.setPassword(e.target.value)}},{key:"renderErrorMessage",value:function(){return c.default.isNil(this.props.errorMessage)?void 0:l.default.createElement("div",{className:"alert alert-danger",role:"alert"},this.props.errorMessage)}},{key:"onLogin",value:function(e){e.preventDefault(),this.props.login()}},{key:"render",value:function(){return l.default.createElement("div",null,l.default.createElement("h3",null,"请登陆"),l.default.createElement(f.Form,null,this.renderErrorMessage(),l.default.createElement(f.FormGroup,null,l.default.createElement(f.Label,null,"用户名"),l.default.createElement(f.Input,{type:"text",name:"userName",value:this.props.userName,onChange:this.onUserNameChange})),l.default.createElement(f.FormGroup,null,l.default.createElement(f.Label,{for:"examplePassword"},"密码"),l.default.createElement(f.Input,{type:"password",name:"password",value:this.props.password,onChange:this.onPasswordChange})),l.default.createElement(f.Button,{onClick:this.onLogin},"登陆")))}}]),t}(),o.propTypes={userName:p.default.string,password:p.default.string,setUserName:p.default.func.isRequired,setPassword:p.default.func.isRequired,login:p.default.func.isRequired,errorMessage:p.default.string},n=a))||n;t.default=b},354:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,a,u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(1),l=b(i),s=r(36),c=b(r(0)),f=(r(155),b(r(353))),p=r(53),d=r(99);function b(e){return e&&e.__esModule?e:{default:e}}var m=(0,s.inject)(function(e){var t=e.authStore;return{userName:t.userName,password:t.password,setUserName:t.setUserName,setPassword:t.setPassword,errorMessage:t.errorMessage,login:t.login}})(n=(0,s.observer)((a=o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.onRedirect=r.onRedirect.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),u(t,[{key:"onRedirect",value:function(){this.props.history.push(d.SIGN_UP)}},{key:"render",value:function(){return l.default.createElement("div",null,l.default.createElement(f.default,this.props),l.default.createElement(p.Button,{onClick:this.onRedirect,color:"link"},"注册"))}}]),t}(),o.propTypes={history:c.default.object.isRequired},n=a))||n)||n;t.default=m},355:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(1),u=(n=a)&&n.__esModule?n:{default:n},i=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"render",value:function(){return u.default.createElement("div",null,"blah")}}]),t}();t.default=i},356:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,a,u,i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(1),s=O(l),c=r(133),f=r(155),p=r(36),d=O(r(0)),b=O(r(42)),m=r(99),v=O(r(355)),y=O(r(354)),g=O(r(352)),h=O(r(350)),w=O(r(349)),_=O(r(272));function O(e){return e&&e.__esModule?e:{default:e}}var P=(n=(0,p.inject)(function(e){var t=e.sessionStore,r=e.loadingStore;return{userInfo:t.userInfo,logout:t.logout,isUserInfoLoading:r.isUserInfoLoading}}),(0,f.withRouter)(o=n(o=(0,p.observer)((u=a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.renderRoute=r.renderRoute.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),i(t,[{key:"renderRoute",value:function(){var e=this.props,t=e.userInfo,r=e.logout;return e.isUserInfoLoading?s.default.createElement("h3",null,"Loading..."):b.default.isNil(t)?s.default.createElement("div",null,s.default.createElement(h.default,null),s.default.createElement(c.Switch,null,s.default.createElement(c.Route,{path:m.SIGN_IN,component:y.default}),s.default.createElement(c.Route,{path:m.SIGN_UP,component:g.default}),s.default.createElement(c.Route,{path:"*",component:function(){return s.default.createElement(c.Redirect,{to:m.SIGN_IN})}}))):s.default.createElement("div",null,s.default.createElement(w.default,{logout:r}),s.default.createElement(c.Switch,null,s.default.createElement(c.Route,{exact:!0,path:m.ROOT,component:v.default}),s.default.createElement(c.Route,{path:m.USER,component:_.default}),s.default.createElement(c.Route,{path:"*",component:function(){return s.default.createElement(c.Redirect,{to:m.ROOT})}})))}},{key:"render",value:function(){return s.default.createElement("div",null,this.renderRoute())}}]),t}(),a.propTypes={userInfo:d.default.object,logout:d.default.func.isRequired,isUserInfoLoading:d.default.bool.isRequired},o=u))||o)||o)||o);t.default=P},357:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(1),a=i(o),u=i(r(356));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"render",value:function(){return a.default.createElement("div",{className:"container"},a.default.createElement(u.default,null))}}]),t}();t.default=l},358:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,a,u,i,l,s,c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),f=r(21),p=r(85),d=r(214),b=(s=r(42))&&s.__esModule?s:{default:s};function m(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,a){try{var u=t[o](a),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}("next")})}}function v(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function y(e,t,r,n,o){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=new(n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),v(this,"errorMessage",o,this),v(this,"groupName",a,this),v(this,"groupContact",u,this),v(this,"invitationCode",i,this),v(this,"memberList",l,this)}return c(e,[{key:"clearGroupInfo",value:function(){g.groupName=null,g.groupContact=null,g.invitationCode=null,g.memberList=null}},{key:"getGroupInfo",value:function(){var e=m(regeneratorRuntime.mark(function e(){var t,r,n,o,a,u,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g.clearGroupInfo(),e.prev=1,g.errorMessage=null,e.next=5,(0,d.getGroupInfo)();case 5:t=e.sent,r=t.data,n=r.groupInfo,o=r.memberList,b.default.isNil(n)||(a=n.groupName,u=n.groupContact,i=n.invitationCode,g.groupName=a,g.groupContact=u,g.invitationCode=i,g.memberList=o),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),g.clearGroupInfo(),g.errorMessage=(0,p.getErrorMessage)(e.t0);case 14:case"end":return e.stop()}},e,this,[[1,10]])}));return function(){return e.apply(this,arguments)}}()},{key:"createGroup",value:function(){var e=m(regeneratorRuntime.mark(function e(t){var r=t.groupName,n=t.groupContact;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(g.errorMessage=null,!g.validate({groupName:r,groupContact:n})){e.next=13;break}return e.prev=2,e.next=5,(0,d.createGroup)({groupName:r,groupContact:n});case 5:return e.next=7,g.getGroupInfo();case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),g.clearGroupInfo(),g.errorMessage=(0,p.getErrorMessage)(e.t0);case 13:case"end":return e.stop()}},e,this,[[2,9]])}));return function(t){return e.apply(this,arguments)}}()},{key:"joinGroup",value:function(){var e=m(regeneratorRuntime.mark(function e(t){var r=t.invitationCode;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g.errorMessage=null,e.prev=1,e.next=4,(0,d.joinGroup)({invitationCode:r});case 4:return e.next=6,g.getGroupInfo();case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),g.clearGroupInfo(),g.errorMessage=(0,p.getErrorMessage)(e.t0);case 12:case"end":return e.stop()}},e,this,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e){var t=e.groupName,r=e.groupContact;return t.length<1||t.length>30?(g.errorMessage="Invalid group name (length 1-30)",!1):!(r.length<1||r.length>30)||(g.errorMessage="Invalid contact info(length 1-30)",!1)}}]),e}(),o=y(n.prototype,"errorMessage",[f.observable],{enumerable:!0,initializer:function(){return null}}),a=y(n.prototype,"groupName",[f.observable],{enumerable:!0,initializer:function(){return null}}),u=y(n.prototype,"groupContact",[f.observable],{enumerable:!0,initializer:function(){return null}}),i=y(n.prototype,"invitationCode",[f.observable],{enumerable:!0,initializer:function(){return null}}),l=y(n.prototype,"memberList",[f.observable],{enumerable:!0,initializer:function(){return[]}}),y(n.prototype,"clearGroupInfo",[f.action],Object.getOwnPropertyDescriptor(n.prototype,"clearGroupInfo"),n.prototype),y(n.prototype,"getGroupInfo",[f.action],Object.getOwnPropertyDescriptor(n.prototype,"getGroupInfo"),n.prototype),y(n.prototype,"createGroup",[f.action],Object.getOwnPropertyDescriptor(n.prototype,"createGroup"),n.prototype),y(n.prototype,"joinGroup",[f.action],Object.getOwnPropertyDescriptor(n.prototype,"joinGroup"),n.prototype),y(n.prototype,"validate",[f.action],Object.getOwnPropertyDescriptor(n.prototype,"validate"),n.prototype),n);t.default=g},359:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,a,u,i,l,s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=r(21),f=r(85),p=r(216),d=b(r(151));function b(e){return e&&e.__esModule?e:{default:e}}function m(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function v(e,t,r,n,o){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}b(r(42));var y=new(n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),m(this,"userName",o,this),m(this,"password",a,this),m(this,"nickName",u,this),m(this,"confirmPassword",i,this),m(this,"errorMessage",l,this)}return s(e,[{key:"setUserName",value:function(e){y.userName=e}},{key:"setPassword",value:function(e){y.password=e}},{key:"setConfirmPassword",value:function(e){y.confirmPassword=e}},{key:"setNickName",value:function(e){y.nickName=e}},{key:"resetForm",value:function(){y.userName="",y.password="",y.nickName="",y.confirmPassword="",y.errorMessage=null}},{key:"register",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!y.validate()){e.next=14;break}return e.prev=1,e.next=4,(0,p.signUp)({userName:y.userName,nickName:y.nickName,password:y.password});case 4:return t=e.sent,(0,f.setXAccessToken)(t.data.token),y.resetForm(),e.next=9,d.default.getUserInfo();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),y.errorMessage=(0,f.getErrorMessage)(e.t0);case 14:case"end":return e.stop()}},e,this,[[1,11]])}),function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,a){try{var u=t[o](a),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}("next")})});return function(){return t.apply(this,arguments)}}()},{key:"validate",value:function(){return y.errorMessage=null,y.userName.length<3||y.userName.length>30||!y.userName.match(/^[a-z0-9]+$/i)?(y.errorMessage="非法用户名, 请使用仅包含英文,数字的用户名(长度3-30字符)",!1):y.nickName.length<3||y.nickName.length>30?(y.errorMessage="非法昵称(长度3-30字符)",!1):y.password.length<=0?(y.errorMessage="密码不能为空",!1):y.password===y.confirmPassword||(y.errorMessage="密码不匹配",!1)}}]),e}(),o=v(n.prototype,"userName",[c.observable],{enumerable:!0,initializer:function(){return""}}),a=v(n.prototype,"password",[c.observable],{enumerable:!0,initializer:function(){return""}}),u=v(n.prototype,"nickName",[c.observable],{enumerable:!0,initializer:function(){return""}}),i=v(n.prototype,"confirmPassword",[c.observable],{enumerable:!0,initializer:function(){return""}}),l=v(n.prototype,"errorMessage",[c.observable],{enumerable:!0,initializer:function(){return null}}),v(n.prototype,"setUserName",[c.action],Object.getOwnPropertyDescriptor(n.prototype,"setUserName"),n.prototype),v(n.prototype,"setPassword",[c.action],Object.getOwnPropertyDescriptor(n.prototype,"setPassword"),n.prototype),v(n.prototype,"setConfirmPassword",[c.action],Object.getOwnPropertyDescriptor(n.prototype,"setConfirmPassword"),n.prototype),v(n.prototype,"setNickName",[c.action],Object.getOwnPropertyDescriptor(n.prototype,"setNickName"),n.prototype),v(n.prototype,"resetForm",[c.action],Object.getOwnPropertyDescriptor(n.prototype,"resetForm"),n.prototype),v(n.prototype,"register",[c.action],Object.getOwnPropertyDescriptor(n.prototype,"register"),n.prototype),v(n.prototype,"validate",[c.action],Object.getOwnPropertyDescriptor(n.prototype,"validate"),n.prototype),n);t.default=y},360:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUserInfo=void 0;var n,o,a=r(109);t.getUserInfo=(n=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.axios.get("/api/session/info");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}),o=function(){var e=n.apply(this,arguments);return new Promise(function(t,r){return function n(o,a){try{var u=e[o](a),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});t(i)}("next")})},function(){return o.apply(this,arguments)})},361:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n;n="https://ccbcx-server.herokuapp.com",t.API_END_POINT=n},386:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,a,u,i,l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(21),c=r(85),f=r(216),p=(i=r(151))&&i.__esModule?i:{default:i};function d(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function b(e,t,r,n,o){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var m=new(n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,"userName",o,this),d(this,"password",a,this),d(this,"errorMessage",u,this)}return l(e,[{key:"setUserName",value:function(e){m.userName=e}},{key:"setPassword",value:function(e){m.password=e}},{key:"login",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,f.signIn)({userName:m.userName,password:m.password});case 3:return t=e.sent,(0,c.setXAccessToken)(t.data.token),e.next=7,p.default.getUserInfo();case 7:m.errorMessage=null,m.userName="",m.password="",e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),m.errorMessage=(0,c.getErrorMessage)(e.t0);case 15:case"end":return e.stop()}},e,this,[[0,12]])}),function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,a){try{var u=t[o](a),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}("next")})});return function(){return t.apply(this,arguments)}}()}]),e}(),o=b(n.prototype,"userName",[s.observable],{enumerable:!0,initializer:function(){return""}}),a=b(n.prototype,"password",[s.observable],{enumerable:!0,initializer:function(){return""}}),u=b(n.prototype,"errorMessage",[s.observable],{enumerable:!0,initializer:function(){return null}}),b(n.prototype,"setUserName",[s.action],Object.getOwnPropertyDescriptor(n.prototype,"setUserName"),n.prototype),b(n.prototype,"setPassword",[s.action],Object.getOwnPropertyDescriptor(n.prototype,"setPassword"),n.prototype),b(n.prototype,"login",[s.action],Object.getOwnPropertyDescriptor(n.prototype,"login"),n.prototype),n);t.default=m},387:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=new(r(222).RouterStore);t.default=n},388:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(387)),o=s(r(386)),a=s(r(151)),u=s(r(359)),i=s(r(215)),l=s(r(358));function s(e){return e&&e.__esModule?e:{default:e}}var c={routingStore:n.default,authStore:o.default,sessionStore:a.default,registerStore:u.default,loadingStore:i.default,groupStore:l.default};t.default=c},400:function(e,t,r){"use strict";var n=f(r(1)),o=f(r(13)),a=r(36),u=r(155),i=f(r(189)),l=r(222),s=f(r(388)),c=f(r(357));function f(e){return e&&e.__esModule?e:{default:e}}var p=(0,i.default)(),d=(0,l.syncHistoryWithStore)(p,s.default.routingStore);o.default.render(n.default.createElement(a.Provider,s.default,n.default.createElement(u.Router,{history:d},n.default.createElement(c.default,null))),document.getElementById("aa3c5543-edfc-4ed6-9538-1f9d4a7c946a"))},603:function(e,t,r){r(602),e.exports=r(400)},85:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildParamURI=t.getErrorMessage=t.setXAccessToken=t.getXAccessTokenFromCookie=void 0;var n=a(r(385)),o=a(r(42));function a(e){return e&&e.__esModule?e:{default:e}}var u=new n.default;t.getXAccessTokenFromCookie=function(){return u.get("x-access-token")},t.setXAccessToken=function(e){o.default.isNil(e)?u.remove("x-access-token"):u.set("x-access-token",e),function(e){r(109).axios.defaults.headers["x-access-token"]=e}(e)},t.getErrorMessage=function(e){return o.default.isNil(e.response)?e.message:e.response.data.message},t.buildParamURI=function(e){var t=e.originalURI,r=e.paramName,n=e.substitutedValue;return o.default.replace(t,r,n)}},99:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ROOT="/",t.SIGN_IN="/login",t.SIGN_UP="/register";var n=t.USER="/user";t.USER_INFO=n+"/info"}});